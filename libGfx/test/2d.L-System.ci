// Recursive tree drawer demo.

void drawTree(gxSurf surf, int x1, int y1, double angle, double length, int depth) {
	inline Angle = 20;

	if (depth <= 0) {
		return;
	}

	int x2 = x1 + int(Math.cos(Math.deg2rad(angle)) * depth * length);
	int y2 = y1 + int(Math.sin(Math.deg2rad(angle)) * depth * length);

	surf.drawLine(x1, y1, x2, y2, 0);
	surf.drawTree(x2, y2, angle - Angle, length, depth - 1);
	surf.drawTree(x2, y2, angle + Angle, length, depth - 1);
}

static gxSurf image = gxSurf(1440, 900, 32);

image.fillRect(0, 0, 65535, 65535, 0xffffff);
drawTree(image, image.width() / 2, image.height() - 22, -90, 4, 22);

Gui.showWindow(image, null);
image.destroy();


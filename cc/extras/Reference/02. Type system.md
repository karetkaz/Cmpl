# II. Type system

Every type is a static variable referencing its metadata.

## Builtin types

### void
The type void is an empty type with no values.
No variables of this type can be instantiated.

### bool
May take on the values true and false only.
true and false are defined constants of the language.

### int8
1 byte, signed (two's complement). Covers values from -128 to 127.

### int16
2 bytes, signed (two's complement), -32,768 to 32,767.

### int32
4 bytes, signed (two's complement). -2,147,483,648 to 2,147,483,647.

### int64
8 bytes signed (two's complement). Ranges from -9,223,372,036,854,775,808 to +9,223,372,036,854,775,807.

### uint8
1 byte, unsigned (two's complement). Covers values from 0 to 255.

### uint16
2 bytes, unsigned (two's complement). Covers values from 0 to 65,535.

### uint32
4 bytes, unsigned (two's complement). Covers values from 0 to 4,294,967,295.

### float32
4 bytes, IEEE 754. Covers a range from 1.40129846432481707e-45 to 3.40282346638528860e+38 (positive or negative).

### float64
8 bytes IEEE 754. Covers a range from 4.94065645841246544e-324 to 1.79769313486231570e+308 (positive or negative).

### pointer
TEMPORARLY usead instead of void*
is a data type whose value refers directly to (or "points to") another value.

### variant
is a dynamic type, which carries the type, and a pointer to the value.
... struct variant {const typename type; const pointer data;}

### typename
is the compilers internal type reprezentation structure.
contains static functions for reflection, and some utility functions like sizeof.

### object
base type of all reference type classes.

### function
[TODO] base type of all functions.


## Aliases

* *int*: alias for int32

* *long*: alias for int64

* *byte*: alias for uint8

* *float*: alias for float32

* *double*: alias for float64

* *char*: [TODO] make it a distinct type, not an integer.

* *string*: [TODO] make it an object type: ``string: object {...}``

* *var*: alias for variant

* ***true***: emit(bool, i32(1));

* ***false***: emit(bool, i32(0));

TODO:
```
enum bool {true, false}
alias true = bool.true;
alias false = bool.false;
```

## Record types
Record types are user defined compound types.

## Array types
Array types are collection types.

### Pointers (Unknown-size arrays) [TODO]

**Example:**
```
int a[*];
```

- Pointers (typed) are the same as arrays without length.
- Are assigned and passed to functions by reference.
- Type of elements are known by the compiler.
- The length is unknown.

### Arrays (Fixed-size arrays)

**Example:**
```
int a[2];
```

- Are passed to functions by reference.
- Type of elements and length is known by the compiler.

### Slices (Dynamic-size arrays)

**Example:**
```
int a[];
```

- Slices are a pair of a pointer to the first element and an integer containing the length
of the slice, where type of data is known by the compiler, the length by runtime.
- Are assigned and passed to functions by reference folowed by the length.
- Type of elements are known by the compiler.

### Maps (Associative arrays) [TODO]

**Example:**
```
double constants[string] = {
    "pi": Math.pi,
    e: Math.e,
};

assert(constants["pi"] == Math.pi);
assert(constants["e"] == Math.e);

constants.put("22", 22.0);      // insert or update
constants.remove("22");         // delete
```

- Map is a collection of a (key, value) pair, where keys are unique.
- Set is a map of [TODO]

## Assignability

An expression is required to be assignable to a variable or a typename in certain circumstances, such as initialization, assignment and argument passing in function calls.
A value can be assigned to a variable if some conditions are met.

## Integer Promotions

[TODO]
